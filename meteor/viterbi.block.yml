id: viterbi
label: Viterbi decoder
category: '[GRC Hier Blocks]'

parameters:
-   id: code
    label: code
    dtype: string
    default: '"CCSDS uninverted"'
    hide: none

inputs:
-   label: in
    dtype: float
    vlen: 1

outputs:
-   label: out
    dtype: byte
    vlen: 1
-   label: ber
    dtype: float
    vlen: 1

templates:
    imports: 'from viterbi import Viterbi  # grc-generated hier_block'
    make: "Viterbi(\n    code=${ code },\n)"
    callbacks:
    - set_code(${ code })

file_format: 1
