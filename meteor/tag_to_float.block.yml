file_format: 1
id: tag_value_to_float
label: Tag Value to Float
category: '[Meteor]'

templates:
  imports: import tag_to_float
  make: tag_to_float.TagToFloat(tag_key=${tag_key})

parameters:
  - id: tag_key
    label: Tag key
    dtype: string
    default: snr

inputs:
  - label: in
    domain: stream
    dtype: complex

outputs:
  - label: out
    domain: stream
    dtype: float

documentation: |
  Emits one float output item per matching stream tag.

  - Consumes the entire input stream (no passthrough).
  - Output rate equals tag rate (1 float per tag).
  - Converts tag value to float (PMT -> double -> float).

  Typical use:
    MPSK SNR Estimator (adds 'snr' tags) -> Tag Value to Float -> GUI/Log